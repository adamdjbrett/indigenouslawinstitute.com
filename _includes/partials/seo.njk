{# Set title with DEV prefix in development mode #}
{%- set pageTitle = title or metadata.title -%}
{%- if not production -%}{%- set pageTitle = "DEV - " + pageTitle -%}{%- endif -%}

{# Set description and image with fallbacks #}
{%- set pageDescription = description or metadata.description -%}
{%- set pageImage = image or metadata.image -%}

<title>{{pageTitle}}</title>
<meta name="description" content="{{pageDescription}}" />
<link rel="canonical" href="{{ metadata.url }}{{ page.url }}" />

{# Open Graph / Facebook #}
<meta property="og:type" content="website" />
<meta property="og:title" content="{{pageTitle}}" />
<meta property="og:description" content="{{pageDescription}}" />
<meta property="og:image" content="{{pageImage}}" />
<meta property="og:locale" content="{{ metadata.locale }}" />
<meta property="og:site_name" content="{{metadata.title}}" />

{# Twitter Card #}
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="{{pageTitle}}" />
<meta name="twitter:description" content="{{pageDescription}}" />
<meta name="twitter:image" content="{{pageImage}}" />
<meta name="twitter:site" content="{{ metadata.metasocial.twitter }}" />
<meta name="twitter:creator" content="{{ metadata.metasocial.twitteruser }}" />

{# Dublin Core #}
<meta property="dc:title" content="{{pageTitle}}" />
<meta property="dc:creator" content="{{ metadata.author.name }}" />

{# Favicon #}
<link rel="icon" href="{{ metadata.favicon }}" type="image/x-icon" />
<link rel="apple-touch-icon" href="{{ metadata.favicon }}" />

{# Other meta #}
<meta name="robots" content="index, follow" />
<meta name="language" content="{{ metadata.language }}" />

{# Optional: eleventy-plugin-seo output #}
{%- if use_plugin_seo -%}
<!-- plugin-seo: begin -->
{% seo "" %}
<!-- plugin-seo: end -->
{%- endif -%}
<meta name="language" content="{{ metadata.language }}" />
<meta name="locale" content="{{ metadata.locale }}" />
<meta property="og:locale" content="{{ metadata.locale }}" />
<meta name="generator" content="{{ eleventy.generator }}" />
<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="{{ metadata.title }}">
<style>{% include "css/bs.css" %}</style>
<link rel="stylesheet" href="{% getBundleFileUrl "css" %}">
<link rel="stylesheet" href="/css/index.css">
<script type="module">{% include "node_modules/@zachleat/heading-anchors/heading-anchors.js" %}</script>